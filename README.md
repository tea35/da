# 最長片道きっぷの旅

## 概要

駅と駅を結ぶ鉄道路線網において、同じ駅を 2 回通らずに最も長い距離を旅する経路（最長片道きっぷ）を求めるプログラムです。

## 問題仕様

- 鉄道路線網は駅を点、路線を線としてモデル化
- 同じ点を 2 回通ることはできません
- 始点と終点はすべての点の中から自由に選択可能
- 入力形式: `始点ID, 終点ID, 距離\r\n`
- 出力形式: 最長経路の駅 ID を`\r\n`区切りで出力

## ファイル構成

- `longest_ticket.py` : メインプログラム（入力処理・最長経路探索・出力）
- `test_longest_ticket.py` : 入力処理のテスト（正常系・異常系・境界系・\r\n 対応）
- `test_longest_ticket_path.py` : 最長経路探索のテスト（正常系・空・複雑ネットワーク・出力形式）

## アルゴリズム

- **深さ優先探索（DFS）**による最長経路探索
- 全駅を始点として探索し、グローバル最適解を発見
- バックトラッキングによる効率的な経路探索

## 使い方

### 基本実行

```sh
python3 longest_ticket.py < input.txt
```

### 入力例（問題仕様通り）

```
1, 2, 8.54
2, 3, 3.11
3, 1, 2.19
3, 4, 4
4, 1, 1.4
```

### 期待される出力

```
1
2
3
4
```

（最長経路: 1→2→3→4、総距離: 15.65）

## テスト方法

各種テストは以下で実行できます。

```sh
python3 test_longest_ticket.py
python3 test_longest_ticket_path.py
```

すべてのテストが OK となれば正しく動作しています。
